<!DOCTYPE html>

<html>

<head>

	<title>Mason's Hangman Game</title>

	<link rel=StyleSheet href="CSS/reset.css" type="text/css" media=screen>
	<link rel=StyleSheet href="CSS/style.css" type="text/css" media=screen>

<script type="text/javascript">

var wordBank = ['birdman', 'starwars', 'hook', 'scream', 'argo', 'goodfellas', 'jumanji', 'frozen', 'gravity', 'skyfall', 'twister', 'fargo'];

var alphabet = ['a', 'b', 'c', 'd', 'e', 'f', 'g', 'h', 'i', 'j', 'k','l', 'm', 'n', 'o', 'p', 'q', 'r', 's', 't', 'u', 'v', 'w', 'x', 'y', 'z'];

var previouslyGuessed = [];

var lettersLeft = 10;

var wins = 0;

var computerWordChoice = wordBank[Math.floor(Math.random()*wordBank.length)];

var globalUserGuess = "";

var officialGameWordHidden = "";
var gameWordArray = "";

var wordSplit;
var gameWordHidden = [];

var startGame = function(){
		// create array or computerword choice
		// make blank array with same length
		wordSplit = "";
		wordSplit = computerWordChoice.split("");
		console.log(wordSplit);
		gameWordHidden = [];
		for(var i=0; i < wordSplit.length; i++){
				gameWordHidden.push("_");
		}
		console.log(gameWordHidden);
		//Make these into global variables
		// window.gameWordHidden = officialGameWordHidden;
		// window.wordSplit = gameWordArray;
	}
startGame();



// PLAYER STARTS THE GAME
document.onkeyup = function(event) {

	
	// Determines which exact key was selected. Make it lowercase
	var userGuess = String.fromCharCode(event.keyCode).toLowerCase();


	var guessedLetters = function(theChoice) {	
		//Has the user's guess already been guessed? (As shown by the global variable, "previouslyGuessed")
		if(previouslyGuessed.indexOf(theChoice) === -1){
			//The option for if it has not already been guessed and the guess also DOES NOT exist within the Word of the Game
			if(wordSplit.indexOf(theChoice) === -1){
				//Show's the current state of the hidden word, however revealed it may be.
				console.log(gameWordHidden);
			//The option for if it has not already been guessed and DOES exist within the Word of the Game	
			} else {
					//Creates a new variable based off the position of the user's guess within the Word of the Game
					var correctGuess = wordSplit.indexOf(theChoice);
					//Finds the blank position within the hidden word of where the correct letter should be and replaces it with the user's correct guess 
					gameWordHidden[correctGuess] = theChoice;
					//Show's the current (at least partially revealed) state of the hidden word, however revealed it may be.
					console.log(gameWordHidden); 
			}//Ends the nested else statement
		//If the user's guess actually has already been guessed.			
		} else{
			//Show's the current state of the hidden word, however revealed it may be.
			console.log(gameWordHidden);
			//This logs the fact that the user has already guessed that particular letter
			console.log("You have already guessed this")
		}//Ends the original IF/ELSE statement

		//Show's the user's guess (This key had not been pressed before this guess)
		console.log(theChoice);
		//Calculates how many guesses are left (Indicates that this key had not been pressed before this guess.) 
		lettersLeft--;
		//This reveals how many guesses are left (Only appears after a letter has been guessed for the first time.)
		console.log("Guesses remaining: " + lettersLeft);
			
			
		//THIS REGARDS THE COUNTDOWN
		//NEW STANDALONE IF STATEMENT... If the number of guesses has reached 0 (or less)...
		if (lettersLeft <= 0) {
				//When the number of guesses remaining reaches 0 (or less), a losing message will be logged
				console.log("You lose. Start over.");
				//When the number of guesses remaining reaches 0 (or less), the user will be alerted
				confirm("You lose. Would you like to play again?");
				//When the user confirms the loss, the page will reload so that the game can begin again
				window.location.reload();
		//If the number of remaining guesses is still higher than 0...		
		} else {
			//Logs how many guesses are remaining. Because apparantley there are some.
			console.log("Guesses remaining: " + lettersLeft);

		}//Ends the second IF/ELSE statement in the guessedLetters function. As stated, it regards the countdown.

		//This adds every letter that the user guesses into an array that is used to check if the user has guessed a particular letter before.
		previouslyGuessed.push(theChoice);

	}//Ends the guessedLetters function

	//Calls the guessedLetters function with an argument of the user's guess
	guessedLetters(userGuess);

}//Ends the onKeyUp function


	

</script><!--End JavaScript-->

</head>

<body>

	<h1>Guess the movie. Or hang.</h1>

	<h2>Press any key to make your first guess</h2>

	<h3>Wins:</h3>

	<h3>Current Word</h3>

	<h4>This is the current word.</h4>

	<p>Remaining guesses</p>

	<h4>Letters you've already guessed:</h4>



</body>

</html>





<!-- var correctGuess = (wordSplit.indexOf(theChoice));
					for(var i=0; i<correctGuess.length; i++){
						gameWordHidden.replaceAt(correctGuess, theChoice);
						console.log(gameWordHidden); -->